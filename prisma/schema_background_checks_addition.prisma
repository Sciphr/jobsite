// Add this model to your prisma/schema.prisma file

model background_checks {
  id                   String      @id @default(uuid())
  application_id       String
  checkr_candidate_id  String?
  checkr_report_id     String?
  package_type         String      // basic, standard, comprehensive
  status               String      @default("pending") // pending, complete, consider, suspended
  initiated_at         DateTime    @default(now())
  completed_at         DateTime?
  initiated_by         String
  checkr_report_url    String?
  metadata             Json?
  created_at           DateTime    @default(now())
  updated_at           DateTime    @updatedAt

  // Relations
  applications         applications @relation(fields: [application_id], references: [id], onDelete: Cascade)
  users                users        @relation(fields: [initiated_by], references: [id])

  @@index([application_id])
  @@index([status])
  @@index([checkr_report_id])
  @@index([initiated_by])
  @@index([created_at])
  @@map("background_checks")
}

// Also add this to the applications model:
// background_checks    background_checks[]

// And add this to the users model:
// background_checks    background_checks[]
